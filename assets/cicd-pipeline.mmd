graph LR
    A[Git Push] --> B{Branch?}
    
    B -->|PR| C[Pull Request]
    B -->|main| D[Main Branch]
    
    C --> E[Lint & Format]
    E --> F[Type Check]
    F --> G[Unit Tests]
    G --> H[Integration Tests]
    H --> I[E2E Tests]
    I --> J[Build Check]
    J --> K[Preview Deploy]
    
    D --> L[Lint & Format]
    L --> M[Type Check]
    M --> N[Unit Tests]
    N --> O[Integration Tests]
    O --> P[E2E Tests]
    P --> Q[Production Build]
    Q --> R[Production Deploy]
    
    K --> S[Vercel Preview URL]
    R --> T[Production URL]
    
    subgraph "Quality Gates"
        E
        F
        G
        H
        I
        J
    end
    
    subgraph "Production Pipeline"
        L
        M
        N
        O
        P
        Q
    end
    
    style A fill:#2088ff,stroke:#2088ff,color:#fff
    style C fill:#8b5cf6,stroke:#8b5cf6,color:#fff
    style D fill:#10b981,stroke:#10b981,color:#fff
    style K fill:#f59e0b,stroke:#f59e0b,color:#fff
    style R fill:#22c55e,stroke:#22c55e,color:#fff
    style S fill:#06b6d4,stroke:#06b6d4,color:#fff
    style T fill:#ec4899,stroke:#ec4899,color:#fff
